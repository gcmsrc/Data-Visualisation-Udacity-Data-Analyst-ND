<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>DAND - Data Viz</title>
	<script src="https://d3js.org/d3.v3.min.js"></script>
	<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
	<!-- https://github.com/d3/d3-scale-chromatic -->
	<script src="https://d3js.org/d3-color.v1.min.js"></script>
	<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

	<script type="text/javascript" src='setup.js'></script>
	<script type="text/javascript" src='format.js'></script>
	<script type="text/javascript" src='utility.js'></script>
	<script type="text/javascript" src='parse.js'></script>
	<script type="text/javascript" src='ttip.js'></script>
	<script type="text/javascript" src='create.js'></script>
	<script type="text/javascript" src='extract.js'></script>
	<script type="text/javascript" src='convert.js'></script>
	<script type="text/javascript" src='legend.js'></script>

	<script type="text/javascript" src='trends.js'></script>
	<script type="text/javascript" src='map.js'></script>
	
	<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="newstyle.css">
</head>
<body>
	
	<!--Tooltip as per Scott Murray-->
	<div id="tooltip" class='hidden trend map'>
		<p><span id='tooltip-title'></span></p>
		<p><span id='tooltip-value'></span></p>
	</div>

	<script type="text/javascript">

    	//----------------------------------------------------------//

		// *** CHART AND DRAWING AREA ***
		// Add chart
		var chart = d3.select("body")
					  .append("svg")
					  .attr("width", outerWidth)
					  .attr("height", outerHeight)
					  .append('g');


		// TEST: Append chart buttons
		var buttons = ['visits', 'purpose', 'origin'];
		chart.selectAll('text')
			 .data(buttons)
			 .enter()
			 .append('text')
			 .attr('class', 'button')
			 .attr('x', function(d, i) {
			 	return 0.7 * innerWidth + i * 60;
			 })
			 .attr('y', 1.2 * padding.top)
			 .attr('id', function(d) {return d;})
			 .text(function(d) {
			 	return d;
			 });

		// Add drawing area
	    var area = chart.append('g')
	    		        .attr('class', 'area');
		// Append title
		chart.append('g')
		     .attr('id', 'title')
		     .attr('transform', 'translate(' + (3 * padding.left) + ',' + (1.3 * padding.top) + ')')
		     .append('text')
		     .style("text-anchor", "start");

		// Start with first visulisation
		trends(1);

		// Add click behaviour to buttons
		d3.select('#visits')
		  .on('click', function() {
		  	trends(1)
		  });
		d3.select('#purpose')
		  .on('click', function() {
		  	trends(2)
		  });

		d3.select('#origin')
		  .on('click', function() {
		  	map();
		  })

		
	</script>
</body>
</html>